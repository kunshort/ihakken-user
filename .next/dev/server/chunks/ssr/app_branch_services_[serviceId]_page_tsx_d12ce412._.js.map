{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/kingo/Desktop/Kunshort/Project1/ihakken-user/app/branch/services/%5BserviceId%5D/page.tsx"],"sourcesContent":["\"use client\";\nimport { useSearchParams } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\n\n// It's good practice to define the shape of your data.\ninterface Service {\n  id: string;\n  name: string;\n  service_type: string;\n}\n\ninterface DecodedPayload {\n  branch: {\n    id: string;\n    name: string;\n  };\n  services: Service[];\n  // Add other properties from your payload as needed\n}\n\nfunction decodePayload(payload: string): DecodedPayload | null {\n  // The user's output shows \"Manual URL-safe\" was the successful method.\n  // We can prioritize that, but keep others as fallbacks.\n  try {\n    let base64 = payload.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    while (base64.length % 4) {\n      base64 += \"=\";\n    }\n    return JSON.parse(atob(base64));\n  } catch (e) {\n    console.error(\"Failed to decode payload:\", e);\n    // You could try other decoding methods here if necessary.\n    return null;\n  }\n}\n\nexport default function ServicePage() {\n  const searchParams = useSearchParams();\n  const [payloadData, setPayloadData] = useState<DecodedPayload | null>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const payload = searchParams.get(\"payload\");\n\n    if (payload) {\n      const data = decodePayload(payload);\n      if (data) {\n        setPayloadData(data);\n      } else {\n        setError(\"Failed to decode payload. Check console for details.\");\n      }\n    } else {\n      setError(\"No payload found in URL.\");\n    }\n  }, [searchParams]);\n\n  return (\n    <div className=\"p-8 max-w-4xl mx-auto\">\n      {error && (\n        <div\n          className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\"\n          role=\"alert\"\n        >\n          <strong className=\"font-bold\">Error: </strong>\n          <span className=\"block sm:inline\">{error}</span>\n        </div>\n      )}\n\n      {payloadData ? (\n        <div>\n          <header className=\"mb-8\">\n            <h1 className=\"text-4xl font-bold text-gray-800\">\n              {payloadData.branch.name}\n            </h1>\n            <p className=\"text-lg text-gray-500\">Our Services</p>\n          </header>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {payloadData.services.map((service) => (\n              <div\n                key={service.id}\n                className=\"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow\"\n              >\n                <h2 className=\"text-2xl font-semibold text-gray-900\">\n                  {service.name}\n                </h2>\n                <p className=\"text-gray-600 mt-2 capitalize\">\n                  Type: {service.service_type.replace(\"_\", \" \")}\n                </p>\n              </div>\n            ))}\n          </div>\n\n          {/* You can keep a debug section if you need it during development */}\n          <details className=\"mt-8 bg-gray-50 p-4 rounded\">\n            <summary className=\"font-mono text-sm cursor-pointer\">\n              Show Debug Info\n            </summary>\n            <pre className=\"mt-2 text-xs overflow-auto\">\n              {JSON.stringify(payloadData, null, 2)}\n            </pre>\n          </details>\n        </div>\n      ) : (\n        !error && (\n          <div className=\"text-center py-10\">\n            <p className=\"text-gray-500\">Decoding payload...</p>\n          </div>\n        )\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAoBA,SAAS,cAAc,OAAe;IACpC,uEAAuE;IACvE,wDAAwD;IACxD,IAAI;QACF,IAAI,SAAS,QAAQ,OAAO,CAAC,MAAM,KAAK,OAAO,CAAC,MAAM;QACtD,MAAO,OAAO,MAAM,GAAG,EAAG;YACxB,UAAU;QACZ;QACA,OAAO,KAAK,KAAK,CAAC,KAAK;IACzB,EAAE,OAAO,GAAG;QACV,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,0DAA0D;QAC1D,OAAO;IACT;AACF;AAEe,SAAS;IACtB,MAAM,eAAe,IAAA,qJAAe;IACpC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAwB;IACtE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACR,MAAM,UAAU,aAAa,GAAG,CAAC;QAEjC,IAAI,SAAS;YACX,MAAM,OAAO,cAAc;YAC3B,IAAI,MAAM;gBACR,eAAe;YACjB,OAAO;gBACL,SAAS;YACX;QACF,OAAO;YACL,SAAS;QACX;IACF,GAAG;QAAC;KAAa;IAEjB,qBACE,8OAAC;QAAI,WAAU;;YACZ,uBACC,8OAAC;gBACC,WAAU;gBACV,MAAK;;kCAEL,8OAAC;wBAAO,WAAU;kCAAY;;;;;;kCAC9B,8OAAC;wBAAK,WAAU;kCAAmB;;;;;;;;;;;;YAItC,4BACC,8OAAC;;kCACC,8OAAC;wBAAO,WAAU;;0CAChB,8OAAC;gCAAG,WAAU;0CACX,YAAY,MAAM,CAAC,IAAI;;;;;;0CAE1B,8OAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;kCAGvC,8OAAC;wBAAI,WAAU;kCACZ,YAAY,QAAQ,CAAC,GAAG,CAAC,CAAC,wBACzB,8OAAC;gCAEC,WAAU;;kDAEV,8OAAC;wCAAG,WAAU;kDACX,QAAQ,IAAI;;;;;;kDAEf,8OAAC;wCAAE,WAAU;;4CAAgC;4CACpC,QAAQ,YAAY,CAAC,OAAO,CAAC,KAAK;;;;;;;;+BAPtC,QAAQ,EAAE;;;;;;;;;;kCAcrB,8OAAC;wBAAQ,WAAU;;0CACjB,8OAAC;gCAAQ,WAAU;0CAAmC;;;;;;0CAGtD,8OAAC;gCAAI,WAAU;0CACZ,KAAK,SAAS,CAAC,aAAa,MAAM;;;;;;;;;;;;;;;;;uBAKzC,CAAC,uBACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAE,WAAU;8BAAgB;;;;;;;;;;;;;;;;;AAMzC","debugId":null}}]
}